第5课 第二部分

（75:00 - ）

【Java的4种引用】 强软弱虚
引用：
Object o = new Object()
o就是个引用

【强引用】普通的引用

T05_M ：finalize 垃圾回收就调用这个方法

 protected void finalize() throws Throwable {
        System.out.println("finalize");
    }

【软引用】 非常适合缓存
一个对象只有软引用指向的时候，只有当系统内存不够用(垃圾回收也不一定能回收到他), 才会被回收
? 本地运行软引用Demo失败了难道是JDK8 版本太低了嘛？

【弱引用】
只要遭遇 gc() 就会被回收
一般用在容器里：一个强引用和一个弱引用同时指向一个对象（强引用只要不指向这个对象,gc() 就可以回收掉这个对象）
典型应用：ThreadLocal
100:00

服务器线程：365天不停

内存泄漏？没有办法回收的内存块, k为null 时V就找不到了.内存里面一块一块的窟窿.

【虚引用】 管理堆外内存的, 用的很少
给写JVM的人用的.不是给普通程序员用的.
或是自己写netty（用到堆外内存的垃圾回收 用queue来监控）时候会用到.
堆外内存如何回收？c / C++ free() java Unsafe（1.8 反射机制可以用 但是1.9以后就不行了）
手动分配的内存必须手动回收

虚引用实际上可以什么都可以指向但是get() 所有普通程序员没有什么用
125:00 之后就不用看了


【锁的两位表示含义】
 00 没有锁
 01 偏向锁
 10 轻量级锁
 11 重量级锁








